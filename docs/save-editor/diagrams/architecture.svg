<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 600">
  <defs>
    <linearGradient id="headerGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#4F46E5;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#7C3AED;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="serviceGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#059669;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#10B981;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="editorGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#DC2626;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#F59E0B;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="parserGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#2563EB;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#3B82F6;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="modelGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#7C3AED;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#A855F7;stop-opacity:1" />
    </linearGradient>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="2" dy="2" stdDeviation="3" flood-opacity="0.3"/>
    </filter>
  </defs>

  <!-- Title -->
  <text x="400" y="35" font-family="Arial, sans-serif" font-size="24" font-weight="bold" fill="#1F2937" text-anchor="middle">Bannerlord Save Editor Architecture</text>

  <!-- Application Layer -->
  <rect x="50" y="60" width="700" height="70" rx="10" fill="url(#headerGrad)" filter="url(#shadow)"/>
  <text x="400" y="85" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white" text-anchor="middle">Application Layer</text>
  <text x="400" y="110" font-family="Arial, sans-serif" font-size="12" fill="white" text-anchor="middle">CLI Tool | Desktop App | Web Service | Vortex Extension</text>

  <!-- Arrow -->
  <path d="M400 130 L400 150" stroke="#6B7280" stroke-width="2" marker-end="url(#arrowhead)"/>
  <polygon points="400,155 395,145 405,145" fill="#6B7280"/>

  <!-- Service Layer -->
  <rect x="50" y="160" width="700" height="90" rx="10" fill="#F3F4F6" stroke="#D1D5DB" stroke-width="2"/>
  <text x="400" y="180" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#374151" text-anchor="middle">Service Layer</text>

  <rect x="70" y="195" width="140" height="45" rx="8" fill="url(#serviceGrad)" filter="url(#shadow)"/>
  <text x="140" y="222" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white" text-anchor="middle">SaveService</text>

  <rect x="230" y="195" width="140" height="45" rx="8" fill="url(#serviceGrad)" filter="url(#shadow)"/>
  <text x="300" y="222" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white" text-anchor="middle">BackupService</text>

  <rect x="390" y="195" width="160" height="45" rx="8" fill="url(#serviceGrad)" filter="url(#shadow)"/>
  <text x="470" y="222" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white" text-anchor="middle">ValidationService</text>

  <rect x="570" y="195" width="160" height="45" rx="8" fill="url(#serviceGrad)" filter="url(#shadow)"/>
  <text x="650" y="222" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white" text-anchor="middle">PerkDatabase</text>

  <!-- Arrow -->
  <polygon points="400,260 395,250 405,250" fill="#6B7280"/>

  <!-- Editor Layer -->
  <rect x="50" y="265" width="700" height="90" rx="10" fill="#FEF3C7" stroke="#F59E0B" stroke-width="2"/>
  <text x="400" y="285" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#92400E" text-anchor="middle">Editor Layer</text>

  <rect x="70" y="300" width="150" height="45" rx="8" fill="url(#editorGrad)" filter="url(#shadow)"/>
  <text x="145" y="327" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white" text-anchor="middle">CharacterEditor</text>

  <rect x="240" y="300" width="130" height="45" rx="8" fill="url(#editorGrad)" filter="url(#shadow)"/>
  <text x="305" y="327" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white" text-anchor="middle">PartyEditor</text>

  <rect x="390" y="300" width="130" height="45" rx="8" fill="url(#editorGrad)" filter="url(#shadow)"/>
  <text x="455" y="327" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white" text-anchor="middle">FleetEditor</text>

  <rect x="540" y="300" width="190" height="45" rx="8" fill="url(#editorGrad)" filter="url(#shadow)"/>
  <text x="635" y="327" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white" text-anchor="middle">SettlementEditor</text>

  <!-- Arrow -->
  <polygon points="400,365 395,355 405,355" fill="#6B7280"/>

  <!-- Parser Layer -->
  <rect x="50" y="370" width="700" height="90" rx="10" fill="#DBEAFE" stroke="#3B82F6" stroke-width="2"/>
  <text x="400" y="390" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#1E40AF" text-anchor="middle">Parser Layer</text>

  <rect x="70" y="405" width="140" height="45" rx="8" fill="url(#parserGrad)" filter="url(#shadow)"/>
  <text x="140" y="432" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white" text-anchor="middle">SaveParser</text>

  <rect x="230" y="405" width="140" height="45" rx="8" fill="url(#parserGrad)" filter="url(#shadow)"/>
  <text x="300" y="432" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white" text-anchor="middle">SaveWriter</text>

  <rect x="390" y="405" width="140" height="45" rx="8" fill="url(#parserGrad)" filter="url(#shadow)"/>
  <text x="460" y="432" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white" text-anchor="middle">ZlibHandler</text>

  <rect x="550" y="405" width="180" height="45" rx="8" fill="url(#parserGrad)" filter="url(#shadow)"/>
  <text x="640" y="432" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white" text-anchor="middle">CompressionHandler</text>

  <!-- Arrow -->
  <polygon points="400,470 395,460 405,460" fill="#6B7280"/>

  <!-- Model Layer -->
  <rect x="50" y="475" width="700" height="110" rx="10" fill="#F3E8FF" stroke="#A855F7" stroke-width="2"/>
  <text x="400" y="495" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#6B21A8" text-anchor="middle">Model Layer</text>

  <rect x="70" y="510" width="100" height="40" rx="6" fill="url(#modelGrad)" filter="url(#shadow)"/>
  <text x="120" y="535" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white" text-anchor="middle">SaveFile</text>

  <rect x="185" y="510" width="100" height="40" rx="6" fill="url(#modelGrad)" filter="url(#shadow)"/>
  <text x="235" y="535" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white" text-anchor="middle">HeroData</text>

  <rect x="300" y="510" width="100" height="40" rx="6" fill="url(#modelGrad)" filter="url(#shadow)"/>
  <text x="350" y="535" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white" text-anchor="middle">PartyData</text>

  <rect x="415" y="510" width="100" height="40" rx="6" fill="url(#modelGrad)" filter="url(#shadow)"/>
  <text x="465" y="535" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white" text-anchor="middle">FleetData</text>

  <rect x="530" y="510" width="100" height="40" rx="6" fill="url(#modelGrad)" filter="url(#shadow)"/>
  <text x="580" y="535" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white" text-anchor="middle">CampaignTime</text>

  <rect x="645" y="510" width="90" height="40" rx="6" fill="url(#modelGrad)" filter="url(#shadow)"/>
  <text x="690" y="535" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white" text-anchor="middle">MBGUID</text>

  <!-- Footer -->
  <text x="400" y="590" font-family="Arial, sans-serif" font-size="10" fill="#9CA3AF" text-anchor="middle">Â© Bannerlord Save Editor - .NET 8.0</text>
</svg>
